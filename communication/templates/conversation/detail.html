{% extends 'base.html' %}

{% block title %}Conversation{% endblock title %}

{% block content %}
<h1 class="tw-mb-6 tw-text-3xl">Conversation</h1>

<div class="tw-space-y-6">
	{% for message in conversation.messages.all %}
			<div class="tw-p-6 d-flex {% if message.created_by == request.user %}tw-bg-blue-100 justify-content-end{% else %}tw-bg-gray-100{% endif %} tw-rounded-xl">
				<div>
					<p class="tw-mb-4 {% if message.created_by == request.user %}text-end{% endif %}"><strong>{{ message.created_by.username }}</strong> @ {{ message.created_at }}</p>
					<p>{{ message.content }}</p>
				</div>
				
			</div>
	{% endfor %}
</div>

	<!-- <form action="." method="POST" class="mt-6"> -->
<div>
	<form action="." method="POST">
		{% csrf_token %}

		{{ form.as_p }}

		<button class="tw-py-4 tw-px-8 tw-text-lg tw-bg-teal-500 hover:tw-bg-teal-700 tw-rounded-xl text-white">Send</button>
	
	</form>
</div>
{% endblock %}